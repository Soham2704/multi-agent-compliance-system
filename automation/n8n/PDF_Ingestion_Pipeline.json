{
  "name": "PDF_Ingestion_Pipeline",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "df3b6422-064b-44d1-aab5-6d2bbcaad869",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "url": "https://portal.mcgm.gov.in/irj/go/km/docs/documents/MCGM%20Department%20List/Chief%20Engineer%20(Development%20Plan)/Docs/SANCTIONED%20DP2034/DCPR/DCPR%202034.pdf",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        208,
        0
      ],
      "id": "663613bc-0296-4472-8290-f5a939661558",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "temp_dcr.pdf",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        416,
        0
      ],
      "id": "172b325b-1901-4aa7-96df-cc855b413e11",
      "name": "Read/Write Files from Disk"
    },
    {
      "parameters": {
        "command": "python agents/parse_agent.py --input temp_dcr.pdf --output rules_kb/mumbai_rules_from_n8n.json"
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        624,
        0
      ],
      "id": "ee748505-55dd-4bd1-8c28-1e402cff2c46",
      "name": "Execute Command"
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk": {
      "main": [
        [
          {
            "node": "Execute Command",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "f4081ee9-160e-4429-99f9-43e45ebe58f1",
  "meta": {
    "instanceId": "4da37a72e90bae80f98259c2286b2b3ce4274fa24600dab7bb726f8edb1bf5e9"
  },
  "id": "yn4K7CR5cnQKWPir",
  "tags": []
}